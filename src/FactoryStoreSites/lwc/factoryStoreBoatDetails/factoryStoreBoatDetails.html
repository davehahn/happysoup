<!--
 - Created by Tim on 2021-04-05.
 -->

<!-- Factory Store Boat Details -->
<template>
  <div class="modelWrapper" style={bannerBg}>
    <article class={modelWrapperClass}>
      <template if:true={boatDataLoaded}>

        <header class="model__intro">
          <div class="intro__vitals--wrapperOuter">
            <div class="intro__vitals">
              <span class="intro__stock"><strong>{currentStockQuantity}</strong> In-Stock</span>
              <h2 class="intro__boatName heading heading--xl">{boatName}</h2>

              <div class="vitals__priceBlock">
                <strong class="priceBlock__weekly" aria-describedby="vitals_includes">
                  {weeklyPrice} <span>Per Week</span>
                </strong>
                <strong class="priceBlock__retail" aria-describedby="vitals_includes">
                  {retailPrice}<sup>*</sup>
                </strong>
                <em class="priceBlock__includes" id="vitals_includes">
                  With {standardMotorName} {standardTrailerName}
                </em>
                <small class="priceBlock__pricingDetails">*Ontario and Quebec All-In Pricing. <a href="https://www.legendboats.com/are-you-all-in/" target="_blank">Click here</a> for national pricing details.</small>
              </div>
            </div>
          </div>

          <span class="intro__photo" style={introPhoto}></span>
        </header>

        <template if:true={hasPhotoGallery}>
          <section class="intro__gallery">
            <h3 class="ro">Photo Gallery</h3>
            <c-factory-store-photo-gallery content-type="default" content={photoGallery} section-width="Average"></c-factory-store-photo-gallery>
          </section>
        </template>

        <section class={stockWrapperClass}>
          <template if:true={currentStockQuantity}>
            <h3 class="heading heading--l">New In-Stock {boatName}s</h3>
          </template>
          <c-factory-store-current-inventory-list boat={boat} boat-id={recordId} location-name={locationName} onupdatestockvalue={handleUpdateStockValue}></c-factory-store-current-inventory-list>
        </section>

        <section class="model__specs model__block">
          <h3 class="heading heading--l">Specifications</h3>
          <ul>
            <template for:each={boatSpecs} for:item="spec">
              <li key={spec.Name}>
                <span>{spec.Name}</span> <lightning-formatted-rich-text value={spec.Value}></lightning-formatted-rich-text>
              </li>
            </template>
          </ul>
        </section>

        <section class="model__motors model__block">
          <h3 class="heading heading--l">Choose Your Power</h3>
          <ul>
            <template for:each={motorUpgrades} for:item="motor">
              <li key={motor.Name}>
                <span>{motor.Name}</span>
                <span>
                  <strong>+{motor.WeeklyUpgradeCost} <b>/Week</b></strong>
                  <strong>+{motor.RetailUpgradeCost}</strong>
                </span>
              </li>
            </template>
          </ul>
        </section>

        <section class="model__premiumPack model__block">
          <header>
            <h3 class="heading heading--l">Preferred Equipment Package</h3>
            <p class="copy copy--standard">
              These features are typically optional on most comparable models, but come <strong>standard*</strong> on the {boatName}.
            </p>
            <p class="premiumPack__totalValue">
              <span class="totalValue">Total Value: {premiumPackageRetailPrice}</span>
              <span class="included">You Pay: <strong>$0</strong></span>
            </p>
          </header>

          <ul class="premiumPackage__list">
            <template for:each={premiumPackItems} for:item="item">
              <li key={item.description} class="premiumPackage__item">
                <div class="premiumPackage__itemDetail">
                  <strong class="itemDetail__name">
                    <template if:true={isEN}>{item.description}</template>
                    <template if:true={isFR}>{item.description_fr}</template>
                  </strong>
                </div>
                <div class="premiumPackage__itemPrice">
                  <span class="itemDetail__value">
                    <template if:true={isEN}>Value: <span>{item.valueFormatted}</span></template>
                    <template if:true={isFR}>Value: <span>{item.valueFormatted_fr}</span></template>
                  </span>
                  <template if:true={isEN}>
                    <div>
                      <span>You Pay:</span>
                      <strong>$0</strong>
                    </div>
                  </template>
                  <template if:true={isFR}>
                    <div>
                      <span>You Pay:</span>
                      <strong>$0</strong>
                    </div>
                  </template>
                </div>
              </li>
            </template>
          </ul>
          <small>*No substitutions or exclusions.</small>
        </section>

        <div class="model__leadFormWrapper fullWidth">
          <section class="model__leadForm">
            <header class="">
              <h3 class="heading heading--l">Interested?</h3>
              <p class="copy copy--standard">Fill out the form below and a Legend Boats representative will contact you with more information.</p>
            </header>
            <div class="form">
              <c-community-shared-lead-form
                      form-name={leadFormName}
                      location-name={locationName}
                      campaign-id={campaignId}
                      boat-model-id={recordId}
                      collect-first-name="true"
                      collect-last-name="true"
                      collect-street="true"
                      collect-city="true"
                      collect-province="true"
                      collect-postal-code="true"
                      collect-email="true"
                      collect-phone="true"
                      collect-plan-to-purchase="true"
                      collect-notes="true"
                      collect-newsletter-optin="true"
                      section-width="Average"></c-community-shared-lead-form>
            </div>
          </section>
        </div>

        <a class="model__fullDetailsCta fullWidth" href={flagshipLink} target="_blank">
          <h4 class="fullDetailsCta__heading heading heading--m heading--light">Visit <strong>LegendBoats.com</strong> for more information</h4>
        </a>

      </template>
      <template if:true={boatDataLookupRunning}>
        <c-community-shared-loading></c-community-shared-loading>
      </template>
      <template if:true={resultEmpty}>
        <p>Result Empty.</p>
      </template>
    </article>
  </div>
</template>
