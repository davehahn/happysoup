<!--
 - Created by Tim on 2021-07-16.
 -->

<!-- Factory Store Photo Gallery -->
<template>
  <div class={galleryWrapperClass}>
    <template if:true={galleryLoaded}>
      <ul class={photoGalleryClass}>
        <template for:each={content} for:item="item">
          <template if:false={isDefaultContentType}>
            <li key={item.managedContentId} class="photoGallery__item">
              <a href={item.contentNodes.source.url} onclick={triggerOverlay}
                ><img src={item.contentNodes.source.url}
              /></a>
            </li>
          </template>
          <template if:true={isDefaultContentType}>
            <li key={item.Name} class="photoGallery__item photoGallery__item--default">
              <a href={item.AWS_Url_fullsize} onclick={triggerOverlay}><img src={item.AWS_Url_700_wide} /></a>
            </li>
          </template>
        </template>
      </ul>

      <div class={overlayClass} onclick={closeOverlay} data-id="overlay">
        <div class="holder" data-id="holder">
          <button class="close" data-id="close" onclick={closeOverlay}><span>+</span></button>
          <img src={imageToShow} alt="" data-id="image" />
        </div>
      </div>
    </template>
    <template if:false={galleryLoaded}>
      <c-community-shared-loading></c-community-shared-loading>
    </template>
  </div>
</template>
