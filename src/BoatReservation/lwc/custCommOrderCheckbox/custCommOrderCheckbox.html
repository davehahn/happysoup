<!--
 - Created by Tim on 2020-04-22.
 -->

<!-- Cust Comm Order Checkbox -->
<template>
  <template if:true={hasIncludedProducts}>
    <ul class="options_includedProducts">
      <template for:each={productOptions.includedProducts} for:item="product">
        <li key={product} class="options_includedProduct">{product}</li>
      </template>
    </ul>
  </template>

  <template if:false={productOptions.init}>
    <div class="config-footer_item">
      <input
        class="vh"
        type={productOptions.inputType}
        name={optionInputName}
        id="option"
        data-label={productOptions.name}
        data-sku={productOptions.sku}
        data-parentsku={productOptions.parentSku}
        data-km={productOptions.km}
        data-rpm={productOptions.rpm}
        data-page={optionPage}
        data-parentpage={optionParentPage}
        data-retail-price={productOptions.retailPrice}
        onchange={handleChange}
      />
      <label
        class="options_label"
        data-click-focus="unset"
        data-layout-type={optionLayout}
        for="option"
        style={hasSwatch}
      >
        <template if:true={useCheckbox}>
          <small class="options_label_checkbox"></small>
        </template>

        <span class="options_label_name">
          <template if:true={isEN}>{productOptions.name}</template>
          <template if:true={isFR}>{productOptions.name_fr}</template>
        </span>
        <span class="options_label_price">
          <template if:true={isEN}>{optionFormattedPrice}</template>
          <template if:true={isFR}>{optionFormattedPriceFR}</template>
        </span>
      </label>
      <template if:true={hasOptionsDeck}>
        <p class="options_deck" data-layout-type={optionLayout}>
          <template if:true={isEN}>{productOptions.blurb}</template>
          <template if:true={isFR}>{productOptions.blurb_fr}</template>
        </p>
      </template>
    </div>
  </template>
  <template if:true={productOptions.init}>
    <div class="config-footer_item" data-parentsku={optionParentSku}>
      <input
        class="vh isChecked"
        type={productOptions.inputType}
        name={optionInputName}
        id="optionInit"
        data-sku={productOptions.sku}
        data-parentsku={productOptions.parentSku}
        data-km={productOptions.km}
        data-rpm={productOptions.rpm}
        data-page={optionPage}
        data-parentpage={optionParentPage}
        data-retail-price={productOptions.retailPrice}
        onchange={handleChange}
        checked
      />
      <label
        class="options_label"
        data-click-focus="unset"
        data-layout-type={optionLayout}
        for="optionInit"
        style={hasSwatch}
      >
        <template if:true={useCheckbox}>
          <small class="options_label_checkbox"></small>
        </template>
        <span class="options_label_name">
          <template if:true={isEN}>{productOptions.name}</template>
          <template if:true={isFR}>{productOptions.name_fr}</template>
        </span>
        <span class="options_label_price">
          <template if:true={isEN}>{optionFormattedPrice}</template>
          <template if:true={isFR}>{optionFormattedPriceFR}</template>
        </span>
      </label>
      <template if:true={hasOptionsDeck}>
        <p class="options_deck" data-layout-type={optionLayout}>
          <template if:true={isEN}>{productOptions.blurb}</template>
          <template if:true={isFR}>{productOptions.blurb_fr}</template>
        </p>
      </template>
    </div>
  </template>

  <template if:true={hasDetailedSummary}>
    <div class="detailedSummaryWrapper">
      <button class="detailedSummaryTrigger" onclick={showHideSummary}>
        <template if:true={isEN}> <strong lwc:dom="manual"></strong> {productOptions.name} details: </template>
        <template if:true={isFR}> <strong lwc:dom="manual"></strong> les d√©tails de {productOptions.name} : </template>
      </button>
      <div class="detailedSummary" data-state="collapsed" lwc:dom="manual"></div>
    </div>
  </template>
</template>
