global without sharing class gcPurchaseOrder_PDF{

	global gcPurchaseOrder_PDF(ApexPages.StandardController c){

		po = (AcctSeedERP__Purchase_Order__c)(c.getRecord());

		init();
	}

	global transient AcctSeedERP__Purchase_Order__c po{get;set;}
	global transient List<Map<String,String>> polList{get;set;}

	global void init()
	{

		po =	[SELECT Id, 
						Name,
						CreatedDate,
						AcctSeedERP__Order_Date__c,
						AcctSeedERP__Vendor_City__c,
						AcctSeedERP__Vendor_Contact__c,
						AcctSeedERP__Vendor_Postal_Code__c,
						AcctSeedERP__Vendor_Country__c,
						AcctSeedERP__Vendor_Street__c,
						AcctSeedERP__Vendor_State__c,
						AcctSeedERP__Vendor__c,
						AcctSeedERP__Vendor__r.Name,
						AcctSeedERP__Shipping_City__c,						
						AcctSeedERP__Shipping_Country__c,
						AcctSeedERP__Shipping_Postal_Code__c,
						AcctSeedERP__Shipping_State__c,
						AcctSeedERP__Shipping_Street__c,
						AcctSeedERP__Shipping_Company__c,
						AcctSeedERP__Shipping_Company__r.Name,
						AcctSeedERP__Shipping_Company__r.AcctSeed__Shipping_Contact__c,
						AcctSeedERP__Shipping_Company__r.AcctSeed__Shipping_Contact__r.Name,
						AcctSeedERP__Total__c,
						AcctSeedERP__Comment__c,
						Owner.Name,
						(SELECT Id,
								AcctSeedERP__GL_Account_Variable_1__r.Name,
								AcctSeedERP__GL_Account_Variable_2__r.Name,
								AcctSeedERP__GL_Account_Variable_3__r.Name,
								AcctSeedERP__GL_Account_Variable_4__r.Name,																								
								AcctSeedERP__Product__c,
								AcctSeedERP__Product__r.Name,
								AcctSeedERP__Product__r.Description,
								AcctSeedERP__Product__r.ProductCode,
								AcctSeedERP__Product__r.Unique_Product_Code__c,
								AcctSeedERP__Product__r.Product_Type__c,
								AcctSeedERP__Product__r.Unit_of_Measurement__c,
								AcctSeedERP__Quantity__c,
							    AcctSeedERP__Quantity_Received__c,
								AcctSeedERP__Quantity_Unreceived__c,
								AcctSeedERP__Total__c,
		                        AcctSeedERP__Unit_Price__c,
		                        AcctSeedERP__Comment__c
						 FROM AcctSeedERP__Purchase_Order_Lines__r
						 ORDER BY AcctSeedERP__Product__r.Name)
				 FROM AcctSeedERP__Purchase_Order__c
				 WHERE Id = :po.Id][0];

		if(!po.AcctSeedERP__Purchase_Order_Lines__r.isEmpty())
		{
			polList = new List<Map<String,String>>();
			for(AcctSeedERP__Purchase_Order_Line__c pol : po.AcctSeedERP__Purchase_Order_Lines__r)
			{
				Map<String,String> m = new Map<String,String>();
				m.put('glv1', pol.AcctSeedERP__GL_Account_Variable_1__r.Name == null?'':pol.AcctSeedERP__GL_Account_Variable_1__r.Name);
				m.put('glv2', pol.AcctSeedERP__GL_Account_Variable_2__r.Name == null?'':pol.AcctSeedERP__GL_Account_Variable_2__r.Name);
				m.put('glv3', pol.AcctSeedERP__GL_Account_Variable_3__r.Name == null?'':pol.AcctSeedERP__GL_Account_Variable_3__r.Name);
				m.put('glv4', pol.AcctSeedERP__GL_Account_Variable_4__r.Name == null?'':pol.AcctSeedERP__GL_Account_Variable_4__r.Name);
				m.put('idProduct', pol.AcctSeedERP__Product__c);
				m.put('productName', pol.AcctSeedERP__Product__r.Name);
				m.put('productDescription', pol.AcctSeedERP__Product__r.Description == null?'':pol.AcctSeedERP__Product__r.Description);
				m.put('unitOfMeasurement', pol.AcctSeedERP__Product__r.Unit_of_Measurement__c == null?'':pol.AcctSeedERP__Product__r.Unit_of_Measurement__c);
				m.put('productCode', pol.AcctSeedERP__Product__r.ProductCode == null?'':pol.AcctSeedERP__Product__r.ProductCode);
				m.put('productUniqueCode', pol.AcctSeedERP__Product__r.Unique_Product_Code__c == null?'':pol.AcctSeedERP__Product__r.Unique_Product_Code__c);
				m.put('productType', pol.AcctSeedERP__Product__r.Product_Type__c == null?'':pol.AcctSeedERP__Product__r.Product_Type__c);
				m.put('quantity', String.valueOf((pol.AcctSeedERP__Quantity__c == null?0:pol.AcctSeedERP__Quantity__c).setScale(2)));
				m.put('quantityReceived', String.valueOf((pol.AcctSeedERP__Quantity_Received__c == null?0:pol.AcctSeedERP__Quantity_Received__c).setScale(2)));
				m.put('quantityUnreceived', String.valueOf((pol.AcctSeedERP__Quantity_Unreceived__c == null?0:pol.AcctSeedERP__Quantity_Unreceived__c).setScale(2)));
				m.put('totalAmount', String.valueOf((pol.AcctSeedERP__Total__c == null?0:pol.AcctSeedERP__Total__c).setScale(2)));
				m.put('unitPrice', String.valueOf((pol.AcctSeedERP__Unit_Price__c == null?0:pol.AcctSeedERP__Unit_Price__c).setScale(2)));
				m.put('comment', pol.AcctSeedERP__Comment__c == null?'NoC':pol.AcctSeedERP__Comment__c);

				polList.add(m);
			}
		}
	}

	public static void coverage(){
		integer i;	
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;        
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
		i=1;
	} 
}